# Operating-Systems

ΕΚΦΩΝΗΣΕΙΣ

Ερώτημα Α [25]: (A) Δημιουργήστε ένα πρόγραμμα στο οποίο μία διεργασία στο Linux/Unix παράγει άλλες N θυγατρικές της. Κάθε διεργασία i (1<=i<=N), διαβάζει την τιμή που είναι αποθηκευμένη στη ρίζα ενός κοινά διαμοιραζόμενου Heap tree (min heap ή max heap, δεν παίζει ρόλο) το οποίο αποθηκεύει 10*N ακέραιους διακριτούς αριθμούς στο διάστημα [1, 10*Ν], και στη συνέχεια την προσθέτει σε μία κοινά διαμοιραζόμενη μεταβλητή int *p, με αρχική τιμή 0. Για παράδειγμα, αν Ν=10, τότε το shared memory heap-tree αποθηκεύει όλους τους διακριτούς αριθμούς στο διάστημα [1, 100], δηλαδή 1,2,3, …..,99, 100. Το heap είναι προσπελάσιμο από τον shared root pointer. Συγχρονίστε τις παραπάνω διεργασίες, ώστε στο τέλος η  μεταβλητή *p να περιέχει το άθροισμα των τιμών όλων των διακριτών αριθμών στο διάστημα [1, 10*Ν]. Ποιος είναι ο συνολικός χρόνος υπολογισμού του παραπάνω αθροίσματος;
(B) Αν το Heap tree δεν είναι shared, προκύπτει το ίδιο αποτέλεσμα; Τι παρατηρείτε στο συνολικό χρόνο υπολογισμού;

***Μετρήστε τους κύκλους της CPU κάνοντας χρήση της συνάρτησης clock(). Στη  συνέχεια διαιρέστε με την built-in σταθερά CLOCKS_PER_SEC ώστε να πάρετε τον αριθμό των δευτερολέπτων.

Ερώτημα Β [20]: Γράψτε πρόγραμμα που να επιλύει με χρήση σημαφόρων το πρόβλημα των αναγνωστών και των εγγραφέων, ώστε να αποφεύγεται η παρατεταμέμνη στέρηση. Δηλαδή, αν  υπάρχει  επιθυµία  και  από εγγραφείς   και   από   αναγνώστες   να   προσπελάσουν   τη   βάση   ταυτόχρονα,   θα   την προσπελάζουν εναλλάξ, ένας προς έναν, π.χ., πρώτα ένας αναγνώστης, στη συνέχεια ένας εγγραφέας, στη συνέχεια και πάλι ένας αναγνώστης, κ.ο.κ. 

Ερώτημα Γ [10]: Σε ένα πρόγραμμα στον kernel του ΛΣ, πραγματοποιούνται 5 κλήσεις συτήματος (Systems Calls: SC1, SC2, SC3, SC4 και SC5). Οι εντολές SC1, SC2 και SC3 εκτελούνται αρχικά (είναι οι αρχικές δραστηριότητες του προγράμματος) και μπορούν να εκτελούνται παράλληλα (με οποιαδήποτε σειρά). Η έναρξη της εντολής SC4 μπορεί να πραγματοποιηθεί μόνο όταν ολοκληρωθεί η εκτέλεση των εντολών SC1 και SC2. Η SC5 είναι η τελική εντολή του προγράμματος και η έναρξή της μπορεί να πραγματοποιηθεί μόνο όταν ολοκληρωθεί η εκτέλεση των εντολών SC3 και SC4.

Ζητείται να υλοποιήσετε κώδικα που να αναπαριστά (με τη μέγιστη δυνατή παραλληλία) τη σειρά εκτέλεσης των κλήσεων συστήματος του παραπάνω προγράμματος. Μην παραλείψετε να δηλώσετε και να αρχικοποιήσετε τους σημαφόρους που θα χρησιμοποιήσετε. 

Θεωρείστε ότι κάθε εντολή SC1...SC5, εκτελεί μία εντολή του συστήματος της αρεσκείας σας . π.χ. system("ls -l")ή system("ps -l") κ.τ.λ...

